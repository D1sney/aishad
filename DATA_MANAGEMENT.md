# Управление базой знаний через Telegram

## Как обновить data.txt через бота

### Вариант 1: Редактирование существующего файла

1. **Скачай текущий файл:**
   ```
   /get_data
   ```
   Бот отправит тебе файл `data.txt`

2. **Отредактируй файл:**
   - Открой файл в любом текстовом редакторе
   - Внеси изменения
   - Сохрани файл (можно с любым именем .txt)

3. **Загрузи обратно:**
   - Просто отправь отредактированный .txt файл боту
   - Бот автоматически:
     - Создаст резервную копию старого файла (`data.txt.backup`)
     - Сохранит новый файл как `data.txt`

4. **Перезапусти бота:**
   ```bash
   # Останови
   Ctrl+C

   # Запусти снова
   python main.py
   ```

### Вариант 2: Создание нового файла

1. Создай новый .txt файл с любым названием
2. Заполни его информацией
3. Отправь боту
4. Перезапусти бота

## Важные моменты

### Резервные копии
- При каждом обновлении создается бэкап: `data/data.txt.backup`
- Если что-то пошло не так, можно вернуть старую версию:
  ```bash
  mv data/data.txt.backup data/data.txt
  ```

### Формат файла
- Только `.txt` файлы
- Кодировка: UTF-8
- Структура: параграфы разделены пустыми строками

### Пример структуры data.txt:

```
Заголовок раздела

Текст первого параграфа с информацией.

Текст второго параграфа.

Другой раздел

Информация по другой теме.
```

### Перезапуск бота
После обновления `data.txt` **обязательно** перезапусти бота, чтобы:
- Бот перечитал новый файл
- Вся обновленная информация попала в системный промпт

## Troubleshooting

**Бот не принимает файл:**
- Проверь, что это .txt файл (не .docx, не .pdf)
- Проверь, что ты администратор (`/myid` и проверь config.json)

**Изменения не применились:**
- Убедись, что перезапустил бота
- Проверь логи при запуске

**Нужно вернуть старую версию:**
```bash
cp data/data.txt.backup data/data.txt
# Перезапусти бота
```
